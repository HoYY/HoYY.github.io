I"›"<p>[í™˜ê²½]<br />
Spring Tool Suite(STS) 3.9.5 RELEASE<br />
Spring Boot 2.1.8.RELEASE<br />
jdk 1.8.0_181<br />
MySQL 8.0.17</p>

<p>ì´ë²ˆ í¬ìŠ¤í„°ì—ì„œëŠ” Thymeleaf Layout Dialectë¥¼ ì‚¬ìš©í•˜ì—¬ Layoutì„ êµ¬ì„±í•˜ëŠ” ë²•ì„ ë‹¤ë£¨ê³ , GitHubì— ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê³µê°œë˜ìˆëŠ” Markdown js í”„ë¡œì íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ WIKI ì‘ì„± í˜ì´ì§€ë¥¼ ë§Œë“¤ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>

<p class="lead">&lt;!â€“-break-â€“&gt;</p>

<h1 id="1-thymeleaf-layout-dialect">1. Thymeleaf Layout Dialect</h1>
<h2 id="1-1-buildgradle-dependencies-ì¶”ê°€">1-1. build.gradle dependencies ì¶”ê°€</h2>

<p>Thymeleafì—ì„œëŠ” Thymeleaf Layout Dialect ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‰½ê²Œ Layoutì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ìš°ì„  build.gradleì˜ dependenciesë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p>
<pre><code>dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
	<u><strong>implementation 'nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect'</strong></u>
}
</code></pre>

<p>dependenciesë¥¼ ì¶”ê°€í–ˆìœ¼ë©´ Refresh Gradle Projectë¥¼ í†µí•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìµœì‹ í™” í•´ì¤ë‹ˆë‹¤.</p>

<h2 id="1-2-ê³µí†µ-head-íƒœê·¸-ì‘ì„±">1-2. ê³µí†µ head íƒœê·¸ ì‘ì„±</h2>

<h2 id="1-3-mainlayout-ì‘ì„±">1-3. mainLayout ì‘ì„±</h2>

<p>ì´ì œ â€˜cssLayout.htmlâ€™ íŒŒì¼ì„ ì´ìš©í•˜ì—¬ ì „ì²´ì ì¸ Layoutì„ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤. <strong>â€˜mainLayout.htmlâ€™</strong> íŒŒì¼ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. html íƒœê·¸ì— <strong>xmlns:th=â€http://www.thymeleaf.orgâ€</strong> ì†ì„±ê³¼ <strong>xmlns:layout=â€http://www.ultraq.net.nz/thymeleaf/layoutâ€</strong> ì†ì„±ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤. <strong>xmlns:th</strong> ì†ì„±ì„ ì¶”ê°€í•˜ì§€ ì•Šìœ¼ë©´ â€˜th:blockâ€™ê³¼ ê°™ì€ Thymeleaf ë¬¸ë²•ë“¤ì— ëŒ€í•´ì„œ ë…¸ë€ì¤„ë¡œ warningì´ í‘œì‹œë©ë‹ˆë‹¤.<br />
head íƒœê·¸ì— <strong>th:replace</strong> ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ â€˜cssLayout.htmlâ€™ íŒŒì¼ì„ ë¶ˆëŸ¬ì™€ ì¤ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ â€˜css_layout_path :: fragment_nameâ€™ í˜•íƒœë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.<br />
ì´ì œ body ë¶€ë¶„ì„ ì‘ì„±í•´ì•¼í•©ë‹ˆë‹¤. Layoutì˜ ê³µí†µëœ body ë¶€ë¶„ì„ ì ì–´ì£¼ì‹œê³  ì•„ê¹Œì™€ ê°™ì´ Custom ì½”ë“œê°€ ë“¤ì–´ê°ˆ ìœ„ì¹˜ì— <strong>â€˜th:blockâ€™</strong> íƒœê·¸ë¥¼ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤. bodyì˜ ì•„ë«ë¶€ë¶„ì— ê³µí†µëœ javascriptë¥¼ ì‘ì„±í•´ì£¼ì‹œê³  <strong>â€˜th:blockâ€™</strong> íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë§ˆë‹¤ ì‚¬ìš©í•  javascript ì½”ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.</p>

<hr />

<pre><code>&lt;!DOCTYPE html&gt;
<u><strong>&lt;html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"&gt;</strong></u>
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/&gt;
<u><strong>&lt;head th:replace="/layout/cssLayout :: cssLayout"&gt;&lt;/head&gt;&lt;/u&gt;</strong>
&lt;body&gt;
    &lt;nav class="navbar navbar-expand-lg navbar-dark bg-dark"&gt;
        &lt;span class="navbar-brand pr-4"&gt;&lt;h3 class="text-white"&gt;HPCLab WIKI&lt;/h3&gt;&lt;/span&gt;
        &lt;button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"&gt;
            &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
        &lt;/button&gt;
	
        &lt;div class="collapse navbar-collapse" id="navbarSupportedContent"&gt;
            &lt;ul class="navbar-nav mr-auto mt-2 mx-2 mb-1"&gt;
                &lt;li class="nav-item active pr-4"&gt;
                    &lt;a class="nav-link h5" th:href="@&#123;&#123;baseUrl&#125;/(baseUrl=$&#123;baseUrl&#125;)&#125;"&gt;Home &lt;/a&gt;
                &lt;/li&gt;
                &lt;li class="nav-item active pr-4"&gt;
                    &lt;a class="nav-link h5" th:href="@&#123;&#123;baseUrl&#125;/boards/new(baseUrl=$&#123;baseUrl&#125;)&#125;"&gt;Write&lt;/a&gt;
                &lt;/li&gt;
                &lt;li class="nav-item dropdown active"&gt;
                    &lt;a class="nav-link dropdown-toggle h5" href="" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"&gt;
                        Account
                    &lt;/a&gt;
                    &lt;div class="dropdown-menu" aria-labelledby="navbarDropdown"&gt;
                        &lt;a class="dropdown-item" th:if="${message == 'admin'}" th:href="@&#123;&#123;baseUrl&#125;/accounts(baseUrl=$&#123;baseUrl&#125;)&#125;"&gt;Information&lt;/a&gt;
                        &lt;div class="dropdown-divider"&gt;&lt;/div&gt;
                        &lt;a class="dropdown-item" href="#" th:onclick="signout(&#91;&#91;$&#123;baseUrl&#125;&#93;&#93;);"&gt;Sign out&lt;/a&gt;
                    &lt;/div&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
            &lt;form class="form-inline my-2 my-lg-0" id="keywordForm" th:action="@&#123;&#123;baseUrl&#125;/boards/search(baseUrl=$&#123;baseUrl&#125;)&#125;" style="width:450px;"&gt;
		      	&lt;input class="form-control mr-sm-2" name="keyword" style="width:360px;" type="search" placeholder="Search" aria-label="Search"&gt;
		      	&lt;button class="btn btn-outline-success my-2 my-sm-0" type="submit"&gt;Search&lt;/button&gt;
		    &lt;/form&gt;
	  	&lt;/div&gt;
	&lt;/nav&gt;

  	<u><strong>&lt;th:block layout:fragment="pageCustomBody"&gt;&lt;/th:block&gt;&lt;/u&gt;</strong>

  	&lt;script src="https://code.jquery.com/jquery-3.2.1.min.js"&gt;&lt;/script&gt;
  	&lt;script th:src="@{/bootstrap/js/bootstrap.bundle.min.js}"&gt;&lt;/script&gt;
  	&lt;script th:src="@{/js/layout.js}"&gt;&lt;/script&gt;
  	
  	<u><strong>&lt;th:block layout:fragment="pageCustomScript"&gt;&lt;/th:block&gt;&lt;/u&gt;</strong>

&lt;/body&gt;
&lt;/html&gt;
&lt;/code&gt;&lt;/pre&gt;

## 1-4. Layout ì ìš©

ë§ˆì§€ë§‰ìœ¼ë¡œ mainLayoutì„ ì ìš©í•  í˜ì´ì§€ì˜ html íƒœê·¸ì— **'layout:decorator'** ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ mainLayoutì„ ë¶ˆëŸ¬ì™€ ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  í˜ì´ì§€ì— ë§ê²Œ **'th:block'** íƒœê·¸ë“¤ì„ ì±„ì›Œì£¼ì‹œë©´ ë©ë‹ˆë‹¤. ì±„ìš¸ ë‚´ìš©ì´ ì—†ìœ¼ë©´ í•´ë‹¹ ìœ„ì¹˜ì˜ **'th:block'** íƒœê·¸ë¥¼ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ ë©ë‹ˆë‹¤.  
<pre><code><u><strong>&lt;html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorator="layout/mainLayout"&gt;&lt;/u&gt;</strong>
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/&gt;
&lt;/head&gt;
&lt;body&gt;
    <u><strong>&lt;th:block layout:fragment="pageCustomBody"&gt;&lt;/u&gt;</strong>
    &lt;div class="container-fluid"&gt;
        CustomBody
    &lt;/div&gt;
    <u><strong>&lt;/th:block&gt;&lt;/u&gt;</strong>
  	
    <u><strong>&lt;th:block layout:fragment="pageCustomScript"&gt;&lt;/u&gt;</strong>
    &lt;script&gt;
        $(window).scroll(function() &#123; 
            var height = $(document).scrollTop();
            if(height &gt;= 76) &#123; 
                $("#tagArea").addClass("position-fixed"); 
                $("#tagArea").css("top", "0px")
            &#125;
            else if(height &lt; 76) &#123; 
                $("#tagArea").removeClass("position-fixed"); 
            &#125; 
        &#125;);
    &lt;/script&gt;
    <u><strong>&lt;/th:block&gt;&lt;/u&gt;</strong>
&lt;/body&gt;
&lt;/html&gt;
&lt;/code&gt;&lt;/pre&gt;

ìœ„ì™€ ê°™ì´ Layoutì—ëŠ” head íƒœê·¸ ì•ˆì— **&lt;th:block layout:fragment="pageCustomCss"&gt;&lt;/th:block&gt;** íƒœê·¸ê°€ ìˆì§€ë§Œ ë”±íˆ ì¶”ê°€í•  ë‚´ìš©ì´ ì—†ìœ¼ë©´ í•´ë‹¹ **'th:block'** íƒœê·¸ë¥¼ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ ë©ë‹ˆë‹¤.  
ìµœì¢… WIKI í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ í˜ì´ì§€ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.  

![Alt text](/uploads/wiki/wiki_7_homepage.PNG)


--------------------------------------------------------------

# 2. Markdown js ì˜¤í”ˆì†ŒìŠ¤ ì ìš©

ì´ì œ WIKI ê²Œì‹œê¸€ ì‘ì„± í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ëª¨ë“  ì—°êµ¬ì‹¤ì›ë“¤ì´ Markdownì— ì¹œìˆ™í–ˆê¸° ë•Œë¬¸ì— Markdown javascript ì˜¤í”ˆì†ŒìŠ¤ê°€ GitHubì— ìˆëŠ”ì§€ ì°¾ì•„ë³´ë‹ˆ ì˜¤í”ˆì†ŒìŠ¤ê°€ ì¡´ì¬í•´ì„œ í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤.  
&lt;https://github.com/jbt/markdown-editor&gt;  
ì¤‘ìš”í•˜ê²Œ ë³¼ ë¶€ë¶„ì€ id ì†ì„±ì´ 'in', 'out'ì¸ div íƒœê·¸ì´ë‹¤.
<pre><code>&lt;div class="col-6 h-100" id="in"&gt;
    &lt;textarea id="code" name="contents"&gt;# New Document&lt;/textarea&gt;
&lt;/div&gt;
&lt;div id="out" class="markdown-body col-6 h-100"&gt;&lt;/div&gt;
</code></pre>

id ê°’ì´ 'in'ì¸ div íƒœê·¸ ì•ˆì˜ id ê°’ì´ 'code'ì¸ textarea íƒœê·¸ì— Markdown ë¬¸ë²•ì˜ ê¸€ì„ ì‘ì„±í•˜ë©´ id ê°’ì´ 'out'ì¸ div íƒœê·¸ì— ë³€í™˜ëœ ê²°ê³¼ê°’ì´ ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤.  
ìµœì¢… WIKI í”„ë¡œì íŠ¸ì˜ ê¸€ ì‘ì„± í˜ì´ì§€ì™€ ê²Œì‹œê¸€ ì¡°íšŒ í˜ì´ì§€ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

![Alt text](/uploads/wiki/wiki_7_writepage.JPG)


----
[ì°¸ê³  ì‚¬ì´íŠ¸]  
&lt;https://www.baeldung.com/thymeleaf-spring-layouts&gt;  
&lt;https://github.com/jbt/markdown-editor&gt;
</u></u></u></u></u></code></pre></u></u></u></code></pre>
:ET